{"version":3,"sources":["VideoCall.module.css","VideoCall.js","App.js","index.js"],"names":["module","exports","VideoCall","props","videoCallRef","React","createRef","callId","this","match","params","vk","VideoKit","apiKey","modules","actions","on","history","push","mount","current","href","window","location","className","title","onClick","el","document","createElement","value","setAttribute","style","position","left","body","appendChild","select","execCommand","removeChild","styles","ref","Component","withRouter","App","Math","random","toString","substring","hashType","exact","path","to","ReactDOM","render","StrictMode","getElementById"],"mappings":"0HACAA,EAAOC,QAAU,CAAC,UAAY,+B,qNCKxBC,E,kDACJ,WAAYC,GAAQ,IAAD,8BACjB,cAAMA,IACDC,aAAeC,IAAMC,YAFT,E,gEAKE,IAAD,OACVC,EAAWC,KAAKL,MAAMM,MAAMC,OAA5BH,OAEFI,EAAK,IAAIC,IAAS,CACtBC,OAAQ,6BACRN,SACAO,QAAS,CAAC,WACVC,QAAS,CAAC,cAAe,WAAY,SAAU,WAGjDJ,EAAGK,GAAG,YAAY,WAChB,EAAKb,MAAMc,QAAQC,KAAK,QAG1BP,EAAGQ,MAAMX,KAAKJ,aAAagB,W,+BAGnB,IACAC,EAASC,OAAOC,SAAhBF,KAcR,OACE,oCACE,oCAAS,4BAAQG,UAAU,aAAaC,MAAOJ,EAAMK,QAdzD,WACE,IAAMC,EAAKC,SAASC,cAAc,YAClCF,EAAGG,MAAQT,EACXM,EAAGI,aAAa,WAAY,IAC5BJ,EAAGK,MAAMC,SAAW,WACpBN,EAAGK,MAAME,KAAO,UAChBN,SAASO,KAAKC,YAAYT,GAC1BA,EAAGU,SACHT,SAASU,YAAY,QACrBV,SAASO,KAAKI,YAAYZ,KAKf,YAAT,iCACA,yBAAKH,UAAWgB,IAAOtC,UAAWuC,IAAKjC,KAAKJ,oB,GAzC5BC,IAAMqC,WA+CfC,cAAWzC,G,MC/CX,SAAS0C,IACtB,IAAMrC,EAASsC,KAAKC,SAASC,SAAS,IAAIC,UAAU,GAEpD,OACE,kBAAC,IAAD,CAAQC,SAAS,WACf,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAOC,OAAK,EAACC,KAAK,KAChB,kBAAC,IAAD,CAAM3B,UAAU,8BAA8B4B,GAAI7C,GAAlD,iBAGF,kBAAC,IAAD,CAAO4C,KAAK,YACV,kBAAC,EAAD,S,MCXVE,IAASC,OACP,kBAAC,IAAMC,WAAP,KACE,kBAACX,EAAD,OAEFhB,SAAS4B,eAAe,W","file":"static/js/main.c0a6945b.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"VideoCall\":\"VideoCall_VideoCall__cJOeK\"};","import React from 'react'\nimport VideoKit from 'videokit'\nimport { withRouter } from 'react-router-dom'\n\nimport styles from './VideoCall.module.css'\n\nclass VideoCall extends React.Component {\n  constructor(props) {\n    super(props)\n    this.videoCallRef = React.createRef()\n  }\n\n  componentDidMount() {\n    const { callId } = this.props.match.params\n\n    const vk = new VideoKit({\n      apiKey: 'cz1b1K281mN1ol3de1W1R2y1Ig',\n      callId,\n      modules: ['actions'],\n      actions: ['screenshare', 'settings', 'status', 'leave'],\n    })\n\n    vk.on('leftCall', () => {\n      this.props.history.push('/')\n    })\n\n    vk.mount(this.videoCallRef.current)\n  }\n\n  render() {\n    const { href } = window.location\n\n    function copyUrlToClipboard() {\n      const el = document.createElement('textarea')\n      el.value = href\n      el.setAttribute('readonly', '')\n      el.style.position = 'absolute'\n      el.style.left = '-9999px'\n      document.body.appendChild(el)\n      el.select()\n      document.execCommand('copy')\n      document.body.removeChild(el)\n    }\n\n    return (\n      <>\n        <p>Share <button className=\"knopf link\" title={href} onClick={copyUrlToClipboard}>this url</button> for others to join your call</p>\n        <div className={styles.VideoCall} ref={this.videoCallRef} />\n      </>\n    )\n  }\n}\n\nexport default withRouter(VideoCall)\n","import React from 'react'\nimport { HashRouter as Router, Switch, Route, Link } from 'react-router-dom'\nimport VideoCall from './VideoCall'\n\nimport 'knopf.css'\n\nexport default function App() {\n  const callId = Math.random().toString(36).substring(7);\n\n  return (\n    <Router hashType=\"noslash\">\n      <Switch>\n        <Route exact path=\"/\">\n          <Link className=\"knopf huge wide pale traced\" to={callId}>Start a call</Link>\n        </Route>\n\n        <Route path=\"/:callId\">\n          <VideoCall />\n        </Route>\n      </Switch>\n    </Router>\n  )\n}\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\n\nimport './index.css'\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n)\n"],"sourceRoot":""}